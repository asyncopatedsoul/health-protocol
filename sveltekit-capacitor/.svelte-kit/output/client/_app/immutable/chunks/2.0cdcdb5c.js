import{s as Y,f as Z,n as j,o as N}from"./scheduler.63274e7e.js";import{S as ee,i as te,g as A,s as D,h as U,y as F,c as G,k as C,l as T,a as E,z as se,f as _}from"./index.e159bb4a.js";import{_ as re}from"./preload-helper.a4192956.js";/*! Capacitor: https://capacitorjs.com/ - MIT License */var L;(function(s){s.Unimplemented="UNIMPLEMENTED",s.Unavailable="UNAVAILABLE"})(L||(L={}));class W extends Error{constructor(e,t,o){super(e),this.message=e,this.code=t,this.data=o}}const ne=s=>{var e,t;return s!=null&&s.androidBridge?"android":!((t=(e=s==null?void 0:s.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||t===void 0)&&t.bridge?"ios":"web"},oe=s=>{const e=s.CapacitorCustomPlatform||null,t=s.Capacitor||{},o=t.Plugins=t.Plugins||{},r=()=>e!==null?e.name:ne(s),n=()=>r()!=="web",l=i=>{const c=g.get(i);return!!(c!=null&&c.platforms.has(r())||a(i))},a=i=>{var c;return(c=t.PluginHeaders)===null||c===void 0?void 0:c.find(k=>k.name===i)},d=i=>s.console.error(i),g=new Map,y=(i,c={})=>{const k=g.get(i);if(k)return console.warn(`Capacitor plugin "${i}" already registered. Cannot register plugins twice.`),k.proxy;const v=r(),P=a(i);let p;const J=async()=>(!p&&v in c?p=typeof c[v]=="function"?p=await c[v]():p=c[v]:e!==null&&!p&&"web"in c&&(p=typeof c.web=="function"?p=await c.web():p=c.web),p),Q=(u,f)=>{var m,w;if(P){const b=P==null?void 0:P.methods.find(h=>f===h.name);if(b)return b.rtype==="promise"?h=>t.nativePromise(i,f.toString(),h):(h,x)=>t.nativeCallback(i,f.toString(),h,x);if(u)return(m=u[f])===null||m===void 0?void 0:m.bind(u)}else{if(u)return(w=u[f])===null||w===void 0?void 0:w.bind(u);throw new W(`"${i}" plugin is not implemented on ${v}`,L.Unimplemented)}},$=u=>{let f;const m=(...w)=>{const b=J().then(h=>{const x=Q(h,u);if(x){const O=x(...w);return f=O==null?void 0:O.remove,O}else throw new W(`"${i}.${u}()" is not implemented on ${v}`,L.Unimplemented)});return u==="addListener"&&(b.remove=async()=>f()),b};return m.toString=()=>`${u.toString()}() { [capacitor code] }`,Object.defineProperty(m,"name",{value:u,writable:!1,configurable:!1}),m},R=$("addListener"),q=$("removeListener"),X=(u,f)=>{const m=R({eventName:u},f),w=async()=>{const h=await m;q({eventName:u,callbackId:h},f)},b=new Promise(h=>m.then(()=>h({remove:w})));return b.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await w()},b},S=new Proxy({},{get(u,f){switch(f){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return P?X:R;case"removeListener":return q;default:return $(f)}}});return o[i]=S,g.set(i,{name:i,proxy:S,platforms:new Set([...Object.keys(c),...P?[v]:[]])}),S};return t.convertFileSrc||(t.convertFileSrc=i=>i),t.getPlatform=r,t.handleError=d,t.isNativePlatform=n,t.isPluginAvailable=l,t.registerPlugin=y,t.Exception=W,t.DEBUG=!!t.DEBUG,t.isLoggingEnabled=!!t.isLoggingEnabled,t},ie=s=>s.Capacitor=oe(s),I=ie(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),H=I.registerPlugin;class V{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let o=!1;this.listeners[e]||(this.listeners[e]=[],o=!0),this.listeners[e].push(t);const n=this.windowListeners[e];n&&!n.registered&&this.addWindowListener(n),o&&this.sendRetainedArgumentsForEvent(e);const l=async()=>this.removeListener(e,t);return Promise.resolve({remove:l})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,o){const r=this.listeners[e];if(!r){if(o){let n=this.retainedEventArguments[e];n||(n=[]),n.push(t),this.retainedEventArguments[e]=n}return}r.forEach(n=>n(t))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:o=>{this.notifyListeners(t,o)}}}unimplemented(e="not implemented"){return new I.Exception(e,L.Unimplemented)}unavailable(e="not available"){return new I.Exception(e,L.Unavailable)}async removeListener(e,t){const o=this.listeners[e];if(!o)return;const r=o.indexOf(t);this.listeners[e].splice(r,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(o=>{this.notifyListeners(e,o)}))}}const M=s=>encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),B=s=>s.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class ae extends V{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(o=>{if(o.length<=0)return;let[r,n]=o.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");r=B(r).trim(),n=B(n).trim(),t[r]=n}),t}async setCookie(e){try{const t=M(e.key),o=M(e.value),r=`; expires=${(e.expires||"").replace("expires=","")}`,n=(e.path||"/").replace("path=",""),l=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${o||""}${r}; path=${n}; ${l};`}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}H("CapacitorCookies",{web:()=>new ae});const ce=async s=>new Promise((e,t)=>{const o=new FileReader;o.onload=()=>{const r=o.result;e(r.indexOf(",")>=0?r.split(",")[1]:r)},o.onerror=r=>t(r),o.readAsDataURL(s)}),le=(s={})=>{const e=Object.keys(s);return Object.keys(s).map(r=>r.toLocaleLowerCase()).reduce((r,n,l)=>(r[n]=s[e[l]],r),{})},de=(s,e=!0)=>s?Object.entries(s).reduce((o,r)=>{const[n,l]=r;let a,d;return Array.isArray(l)?(d="",l.forEach(g=>{a=e?encodeURIComponent(g):g,d+=`${n}=${a}&`}),d.slice(0,-1)):(a=e?encodeURIComponent(l):l,d=`${n}=${a}`),`${o}&${d}`},"").substr(1):null,ue=(s,e={})=>{const t=Object.assign({method:s.method||"GET",headers:s.headers},e),r=le(s.headers)["content-type"]||"";if(typeof s.data=="string")t.body=s.data;else if(r.includes("application/x-www-form-urlencoded")){const n=new URLSearchParams;for(const[l,a]of Object.entries(s.data||{}))n.set(l,a);t.body=n.toString()}else if(r.includes("multipart/form-data")||s.data instanceof FormData){const n=new FormData;if(s.data instanceof FormData)s.data.forEach((a,d)=>{n.append(d,a)});else for(const a of Object.keys(s.data))n.append(a,s.data[a]);t.body=n;const l=new Headers(t.headers);l.delete("content-type"),t.headers=l}else(r.includes("application/json")||typeof s.data=="object")&&(t.body=JSON.stringify(s.data));return t};class fe extends V{async request(e){const t=ue(e,e.webFetchExtra),o=de(e.params,e.shouldEncodeUrlParams),r=o?`${e.url}?${o}`:e.url,n=await fetch(r,t),l=n.headers.get("content-type")||"";let{responseType:a="text"}=n.ok?e:{};l.includes("application/json")&&(a="json");let d,g;switch(a){case"arraybuffer":case"blob":g=await n.blob(),d=await ce(g);break;case"json":d=await n.json();break;case"document":case"text":default:d=await n.text()}const y={};return n.headers.forEach((i,c)=>{y[c]=i}),{data:d,headers:y,status:n.status,url:n.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}H("CapacitorHttp",{web:()=>new fe});const K=H("SocialLogin",{web:()=>re(()=>import("./web.4eaabf0a.js"),[],import.meta.url).then(s=>new s.SocialLoginWeb)});function ge(s){let e,t="Welcome!",o,r,n,l,a,d="Sign in with google",g,y;return{c(){e=A("h1"),e.textContent=t,o=D(),r=A("img"),l=D(),a=A("button"),a.textContent=d,this.h()},l(i){e=U(i,"H1",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-w9d2nb"&&(e.textContent=t),o=G(i),r=U(i,"IMG",{src:!0,alt:!0,style:!0,class:!0}),l=G(i),a=U(i,"BUTTON",{class:!0,"data-svelte-h":!0}),F(a)!=="svelte-1mrhsbe"&&(a.textContent=d),this.h()},h(){C(e,"class","svelte-1j4335o"),Z(r.src,n="/svelte_cap.png")||C(r,"src",n),C(r,"alt","SvelteKit Capacitor"),T(r,"object-fit","scale-down"),T(r,"max-width","100%"),T(r,"padding","8px"),C(r,"class","svelte-1j4335o"),C(a,"class","button secondary small svelte-1j4335o")},m(i,c){E(i,e,c),E(i,o,c),E(i,r,c),E(i,l,c),E(i,a,c),g||(y=se(a,"click",s[0]),g=!0)},p:j,i:j,o:j,d(i){i&&(_(e),_(o),_(r),_(l),_(a)),g=!1,y()}}}const he="259278640793-k444fuvfmobonvhbd3lm6r6997srv77u.apps.googleusercontent.com",z="259278640793-40shultnr3ibgg6lf5h8e3m4hpripvg9.apps.googleusercontent.com";function me(s){N(()=>{K.initialize({google:{webClientId:z,iOSClientId:he,iOSServerClientId:z}})});async function e(){console.log("handleSignInWithGoogle called");try{const t=await K.login({provider:"google",options:{}});console.log("SocialLogin response",t)}catch(t){console.error("Error during Google login:",t)}}return[e]}class ye extends ee{constructor(e){super(),te(this,e,me,ge,Y,{})}}export{ye as P,V as W};
